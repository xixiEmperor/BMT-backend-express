{"date":"Wed Sep 10 2025 10:40:33 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.64453125,3.3916015625,4.17236328125],"uptime":3000},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73046,"external":3669987,"heapTotal":19431424,"heapUsed":16969176,"rss":54214656},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 10:40:33.284","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 11:11:27 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:307:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:110:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","os":{"loadavg":[2.91796875,3.00390625,3.07958984375],"uptime":4854},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73556,"external":3670537,"heapTotal":20480000,"heapUsed":18468840,"rss":51789824},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:307:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:110:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","timestamp":"2025-09-10 11:11:27.798","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":307,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":110,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":20,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":"Client.onclose","line":247,"method":"onclose","native":false},{"column":35,"file":"node:events","function":"Socket.emit","line":530,"method":"emit","native":false},{"column":18,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js","function":"Socket.onClose","line":320,"method":"onClose","native":false},{"column":28,"file":"node:events","function":"Object.onceWrapper","line":632,"method":"onceWrapper","native":false},{"column":28,"file":"node:events","function":"WebSocket.emit","line":518,"method":"emit","native":false}]}
{"date":"Wed Sep 10 2025 11:11:28 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.91796875,3.00390625,3.07958984375],"uptime":4855},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":78042,"external":3675023,"heapTotal":20480000,"heapUsed":17795416,"rss":55836672},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 11:11:28.280","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 11:46:09 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.64306640625,2.7841796875,2.9033203125],"uptime":6936},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":83442,"external":3680423,"heapTotal":20480000,"heapUsed":18321160,"rss":30244864},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 11:46:09.584","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 11:46:18 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:307:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:110:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","os":{"loadavg":[2.31005859375,2.70849609375,2.875],"uptime":6945},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":87868,"external":3684849,"heapTotal":20480000,"heapUsed":18472560,"rss":33751040},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:307:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:110:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","timestamp":"2025-09-10 11:46:18.804","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":307,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":110,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":20,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":"Client.onclose","line":247,"method":"onclose","native":false},{"column":35,"file":"node:events","function":"Socket.emit","line":530,"method":"emit","native":false},{"column":18,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js","function":"Socket.onClose","line":320,"method":"onClose","native":false},{"column":28,"file":"node:events","function":"Object.onceWrapper","line":632,"method":"onceWrapper","native":false},{"column":28,"file":"node:events","function":"WebSocket.emit","line":518,"method":"emit","native":false}]}
{"date":"Wed Sep 10 2025 11:46:18 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.31005859375,2.70849609375,2.875],"uptime":6945},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":93647,"external":3690628,"heapTotal":20480000,"heapUsed":18631352,"rss":34930688},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 11:46:18.920","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:40:04 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.66650390625,2.95361328125,2.970703125],"uptime":10171},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73593,"external":3670574,"heapTotal":20480000,"heapUsed":18188864,"rss":29212672},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:40:04.206","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:40:09 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:307:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:110:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","os":{"loadavg":[2.61279296875,2.9375,2.96484375],"uptime":10176},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":78028,"external":3675009,"heapTotal":20480000,"heapUsed":18363544,"rss":32358400},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:307:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:110:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","timestamp":"2025-09-10 12:40:09.426","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":307,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":110,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":20,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":"Client.onclose","line":247,"method":"onclose","native":false},{"column":35,"file":"node:events","function":"Socket.emit","line":530,"method":"emit","native":false},{"column":18,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js","function":"Socket.onClose","line":320,"method":"onClose","native":false},{"column":28,"file":"node:events","function":"Object.onceWrapper","line":632,"method":"onceWrapper","native":false},{"column":28,"file":"node:events","function":"WebSocket.emit","line":518,"method":"emit","native":false}]}
{"date":"Wed Sep 10 2025 12:40:09 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.61279296875,2.9375,2.96484375],"uptime":10176},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":83806,"external":3680787,"heapTotal":20480000,"heapUsed":18496800,"rss":32702464},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:40:09.495","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:41:25 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:307:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:110:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","os":{"loadavg":[2.82666015625,2.86181640625,2.92626953125],"uptime":10252},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":72903,"external":3669884,"heapTotal":20742144,"heapUsed":18382632,"rss":34193408},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:307:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:110:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","timestamp":"2025-09-10 12:41:25.695","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":307,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":110,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":20,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":"Client.onclose","line":247,"method":"onclose","native":false},{"column":35,"file":"node:events","function":"Socket.emit","line":530,"method":"emit","native":false},{"column":18,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js","function":"Socket.onClose","line":320,"method":"onClose","native":false},{"column":28,"file":"node:events","function":"Object.onceWrapper","line":632,"method":"onceWrapper","native":false},{"column":28,"file":"node:events","function":"WebSocket.emit","line":518,"method":"emit","native":false}]}
{"date":"Wed Sep 10 2025 12:41:25 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.82666015625,2.86181640625,2.92626953125],"uptime":10252},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":78691,"external":3675672,"heapTotal":20742144,"heapUsed":18514752,"rss":34914304},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:41:25.821","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:42:08 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:307:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:110:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","os":{"loadavg":[2.798828125,2.84814453125,2.916015625],"uptime":10295},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":80803,"external":3677784,"heapTotal":20742144,"heapUsed":18325568,"rss":36225024},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:307:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:110:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","timestamp":"2025-09-10 12:42:08.470","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":307,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":110,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":20,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":"Client.onclose","line":247,"method":"onclose","native":false},{"column":35,"file":"node:events","function":"Socket.emit","line":530,"method":"emit","native":false},{"column":18,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js","function":"Socket.onClose","line":320,"method":"onClose","native":false},{"column":28,"file":"node:events","function":"Object.onceWrapper","line":632,"method":"onceWrapper","native":false},{"column":28,"file":"node:events","function":"WebSocket.emit","line":518,"method":"emit","native":false}]}
{"date":"Wed Sep 10 2025 12:42:08 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.798828125,2.84814453125,2.916015625],"uptime":10295},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":86587,"external":3683568,"heapTotal":20742144,"heapUsed":18443328,"rss":36356096},"pid":4072,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:42:08.581","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:43:04 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[3.4794921875,2.9638671875,2.94970703125],"uptime":10351},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73046,"external":3667939,"heapTotal":36208640,"heapUsed":16925376,"rss":90767360},"pid":50498,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:43:04.091","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:43:10 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:308:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:111:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","os":{"loadavg":[3.28076171875,2.93115234375,2.93798828125],"uptime":10357},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":77352,"external":3674333,"heapTotal":36208640,"heapUsed":17263880,"rss":73793536},"pid":50498,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:308:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:111:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","timestamp":"2025-09-10 12:43:10.845","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":308,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":111,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":20,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":"Client.onclose","line":247,"method":"onclose","native":false},{"column":35,"file":"node:events","function":"Socket.emit","line":530,"method":"emit","native":false},{"column":18,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js","function":"Socket.onClose","line":320,"method":"onClose","native":false},{"column":28,"file":"node:events","function":"Object.onceWrapper","line":632,"method":"onceWrapper","native":false},{"column":28,"file":"node:events","function":"WebSocket.emit","line":518,"method":"emit","native":false}]}
{"date":"Wed Sep 10 2025 12:43:11 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[3.28076171875,2.93115234375,2.93798828125],"uptime":10358},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":83141,"external":3680122,"heapTotal":36470784,"heapUsed":17459200,"rss":73940992},"pid":50498,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:43:11.003","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:45:02 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:308:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:111:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","os":{"loadavg":[3.95361328125,3.009765625,2.9482421875],"uptime":10469},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":72892,"external":3669873,"heapTotal":20480000,"heapUsed":17715016,"rss":50692096},"pid":50498,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:308:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:111:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","timestamp":"2025-09-10 12:45:02.154","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":308,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":111,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":20,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":"Client.onclose","line":247,"method":"onclose","native":false},{"column":35,"file":"node:events","function":"Socket.emit","line":530,"method":"emit","native":false},{"column":18,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js","function":"Socket.onClose","line":320,"method":"onClose","native":false},{"column":28,"file":"node:events","function":"Object.onceWrapper","line":632,"method":"onceWrapper","native":false},{"column":28,"file":"node:events","function":"WebSocket.emit","line":518,"method":"emit","native":false}]}
{"date":"Wed Sep 10 2025 12:45:02 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[3.95361328125,3.009765625,2.9482421875],"uptime":10469},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":78678,"external":3675659,"heapTotal":20480000,"heapUsed":17891152,"rss":54149120},"pid":50498,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:45:02.662","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:47:21 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.86376953125,2.970703125,2.9423828125],"uptime":10608},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73046,"external":3669987,"heapTotal":36208640,"heapUsed":16983680,"rss":92471296},"pid":60125,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:47:21.226","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:47:35 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.666015625,2.921875,2.9248046875],"uptime":10622},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73046,"external":3667939,"heapTotal":36208640,"heapUsed":16908168,"rss":91914240},"pid":60743,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:47:35.948","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:47:38 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.8525390625,2.9560546875,2.9365234375],"uptime":10625},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73058,"external":3667951,"heapTotal":36208640,"heapUsed":16930880,"rss":96010240},"pid":60862,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:47:38.136","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:48:12 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:308:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:111:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","os":{"loadavg":[2.40576171875,2.83251953125,2.8916015625],"uptime":10659},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":72464,"external":3669445,"heapTotal":19169280,"heapUsed":16998400,"rss":64290816},"pid":60862,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:308:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:111:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","timestamp":"2025-09-10 12:48:12.340","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":308,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":111,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":20,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":"Client.onclose","line":247,"method":"onclose","native":false},{"column":35,"file":"node:events","function":"Socket.emit","line":530,"method":"emit","native":false},{"column":18,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js","function":"Socket.onClose","line":320,"method":"onClose","native":false},{"column":28,"file":"node:events","function":"Object.onceWrapper","line":632,"method":"onceWrapper","native":false},{"column":28,"file":"node:events","function":"WebSocket.emit","line":518,"method":"emit","native":false}]}
{"date":"Wed Sep 10 2025 12:48:12 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[6.697265625,3.71484375,3.20263671875],"uptime":10659},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":78252,"external":3675233,"heapTotal":19169280,"heapUsed":17253344,"rss":64897024},"pid":60862,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:74:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:48:12.603","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":74,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:49:17 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:75:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[6.5703125,4.18310546875,3.408203125],"uptime":10724},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73046,"external":3667939,"heapTotal":36470784,"heapUsed":16918872,"rss":93011968},"pid":64557,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:75:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:49:17.550","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":75,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:49:26 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:75:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[5.947265625,4.12744140625,3.3974609375],"uptime":10733},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73046,"external":3667939,"heapTotal":36470784,"heapUsed":16927712,"rss":92962816},"pid":64970,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:75:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:49:26.714","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":75,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:49:34 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:75:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[5.1796875,4.0234375,3.369140625],"uptime":10741},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73058,"external":3667951,"heapTotal":36470784,"heapUsed":16914672,"rss":94748672},"pid":65290,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:75:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:35:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:49:34.620","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":75,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":35,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:51:21 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:40:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.55419921875,3.3984375,3.1953125],"uptime":10848},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73046,"external":3667939,"heapTotal":36470784,"heapUsed":16939720,"rss":96436224},"pid":69277,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:40:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:51:21.251","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":80,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":40,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 12:52:04 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:40:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.9365234375,3.31103515625,3.16748046875],"uptime":10891},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73046,"external":3667939,"heapTotal":36470784,"heapUsed":16940040,"rss":93700096},"pid":70947,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:40:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 12:52:04.467","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":80,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":40,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 13:03:32 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:314:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:117:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at WebSocket.doClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/transports/websocket.js:91:15)\n    at WebSocket.close (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/transport.js:67:14)","os":{"loadavg":[6.2353515625,3.78662109375,3.31201171875],"uptime":11579},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":138371,"external":3669816,"heapTotal":20480000,"heapUsed":17395208,"rss":51658752},"pid":70947,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:314:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:117:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at WebSocket.doClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/transports/websocket.js:91:15)\n    at WebSocket.close (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/transport.js:67:14)","timestamp":"2025-09-10 13:03:32.335","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":314,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":117,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":20,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":"Client.onclose","line":247,"method":"onclose","native":false},{"column":35,"file":"node:events","function":"Socket.emit","line":530,"method":"emit","native":false},{"column":18,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js","function":"Socket.onClose","line":320,"method":"onClose","native":false},{"column":15,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/transports/websocket.js","function":"WebSocket.doClose","line":91,"method":"doClose","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/transport.js","function":"WebSocket.close","line":67,"method":"close","native":false}]}
{"date":"Wed Sep 10 2025 13:03:32 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:40:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[6.2353515625,3.78662109375,3.31201171875],"uptime":11579},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73046,"external":3669987,"heapTotal":19693568,"heapUsed":16909296,"rss":70057984},"pid":96130,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:40:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 13:03:32.485","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":80,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":40,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 13:04:04 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:40:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[4.52490234375,3.599609375,3.25927734375],"uptime":11611},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73046,"external":3667939,"heapTotal":36470784,"heapUsed":16934488,"rss":94076928},"pid":97749,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:40:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 13:04:04.162","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":80,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":40,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 13:08:53 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:41:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.07958984375,2.6875,2.9267578125],"uptime":11900},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73046,"external":3669987,"heapTotal":36208640,"heapUsed":16965176,"rss":91570176},"pid":9401,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:41:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 13:08:53.983","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":80,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":41,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 13:09:00 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:41:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.15283203125,2.6923828125,2.9267578125],"uptime":11907},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73058,"external":3667951,"heapTotal":36732928,"heapUsed":17351808,"rss":91684864},"pid":9714,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:41:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 13:09:00.798","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":80,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":41,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 13:09:42 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:314:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:117:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","os":{"loadavg":[2.0556640625,2.5927734375,2.8779296875],"uptime":11949},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":72464,"external":3669445,"heapTotal":20217856,"heapUsed":17092336,"rss":51544064},"pid":9714,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:314:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:117:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","timestamp":"2025-09-10 13:09:42.193","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":314,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":117,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":20,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":"Client.onclose","line":247,"method":"onclose","native":false},{"column":35,"file":"node:events","function":"Socket.emit","line":530,"method":"emit","native":false},{"column":18,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js","function":"Socket.onClose","line":320,"method":"onClose","native":false},{"column":28,"file":"node:events","function":"Object.onceWrapper","line":632,"method":"onceWrapper","native":false},{"column":28,"file":"node:events","function":"WebSocket.emit","line":518,"method":"emit","native":false}]}
{"date":"Wed Sep 10 2025 13:09:43 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:41:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.0556640625,2.5927734375,2.8779296875],"uptime":11950},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":78249,"external":3675230,"heapTotal":20217856,"heapUsed":17674336,"rss":55476224},"pid":9714,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:41:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 13:09:43.614","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":80,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":41,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 13:09:44 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:314:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:117:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","os":{"loadavg":[2.0556640625,2.5927734375,2.8779296875],"uptime":11951},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":72570,"external":3669551,"heapTotal":21790720,"heapUsed":17713056,"rss":61177856},"pid":9714,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:314:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:117:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Client.onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:247:20)\n    at Socket.emit (node:events:530:35)\n    at Socket.onClose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js:320:18)\n    at Object.onceWrapper (node:events:632:28)\n    at WebSocket.emit (node:events:518:28)","timestamp":"2025-09-10 13:09:44.533","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":314,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":117,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":20,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":"Client.onclose","line":247,"method":"onclose","native":false},{"column":35,"file":"node:events","function":"Socket.emit","line":530,"method":"emit","native":false},{"column":18,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/engine.io@6.6.4/node_modules/engine.io/build/socket.js","function":"Socket.onClose","line":320,"method":"onClose","native":false},{"column":28,"file":"node:events","function":"Object.onceWrapper","line":632,"method":"onceWrapper","native":false},{"column":28,"file":"node:events","function":"WebSocket.emit","line":518,"method":"emit","native":false}]}
{"date":"Wed Sep 10 2025 13:09:44 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:41:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[2.0556640625,2.5927734375,2.8779296875],"uptime":11951},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":78355,"external":3675336,"heapTotal":21790720,"heapUsed":18197936,"rss":61652992},"pid":9714,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleConnection (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:80:18)\n    at Namespace.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:41:12)\n    at Namespace.emit (node:events:518:28)\n    at Namespace.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 13:09:44.926","trace":[{"column":18,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleConnection","line":80,"method":"handleConnection","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":41,"method":null,"native":false},{"column":28,"file":"node:events","function":"Namespace.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Namespace.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":"Namespace._doConnect","line":276,"method":"_doConnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/namespace.js","function":null,"line":238,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
{"date":"Wed Sep 10 2025 13:11:14 GMT+0800 (中国标准时间)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'userId')\nTypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:314:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:117:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Socket.ondisconnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:513:14)\n    at Socket._onpacket (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:442:22)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:214:24\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","os":{"loadavg":[1.990234375,2.43115234375,2.78515625],"uptime":12041},"process":{"argv":["/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","/Users/mima0000/Desktop/项目学习/BMT-backend-express/app.js"],"cwd":"/Users/mima0000/Desktop/项目学习/BMT-backend-express","execPath":"/Users/mima0000/.nvm/versions/node/v22.17.1/bin/node","gid":20,"memoryUsage":{"arrayBuffers":73145,"external":3670126,"heapTotal":21004288,"heapUsed":18052440,"rss":49725440},"pid":9714,"uid":501,"version":"v22.17.1"},"stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at RealtimeService.handleDisconnect (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:314:39)\n    at Socket.<anonymous> (file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js:117:12)\n    at Socket.emit (node:events:518:28)\n    at Socket.emitReserved (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Socket._onclose (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:554:14)\n    at Socket.ondisconnect (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:513:14)\n    at Socket._onpacket (/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js:442:22)\n    at /Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js:214:24\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-10 13:11:14.025","trace":[{"column":39,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":"RealtimeService.handleDisconnect","line":314,"method":"handleDisconnect","native":false},{"column":12,"file":"file:///Users/mima0000/Desktop/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/BMT-backend-express/services/realtimeService.js","function":null,"line":117,"method":null,"native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":518,"method":"emit","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/typed-events.js","function":"Socket.emitReserved","line":56,"method":"emitReserved","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onclose","line":554,"method":"_onclose","native":false},{"column":14,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket.ondisconnect","line":513,"method":"ondisconnect","native":false},{"column":22,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/socket.js","function":"Socket._onpacket","line":442,"method":"_onpacket","native":false},{"column":24,"file":"/Users/mima0000/Desktop/项目学习/BMT-backend-express/node_modules/.pnpm/socket.io@4.8.1/node_modules/socket.io/dist/client.js","function":null,"line":214,"method":null,"native":false},{"column":11,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":85,"method":"processTicksAndRejections","native":false}]}
